<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Special Valentine's Day Surprise üíù</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <style>
        * {
            font-family: 'Poppins', sans-serif;
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #FFE5EC 0%, #FFC4D6 50%, #FFB3C6 100%);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
            cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><text y="18" font-size="20">üíï</text></svg>'), auto;
        }

        /* Floating hearts animation */
        .hearts-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
            overflow: hidden;
        }

        .heart {
            position: absolute;
            font-size: 24px;
            opacity: 0;
            animation: float-up 12s infinite ease-in-out;
        }

        @keyframes float-up {
            0% {
                opacity: 0;
                transform: translateY(100vh) rotate(0deg) scale(0.5);
            }
            10% {
                opacity: 0.8;
            }
            90% {
                opacity: 0.8;
            }
            100% {
                opacity: 0;
                transform: translateY(-100px) rotate(360deg) scale(1);
            }
        }

        /* Music player */
        .music-player {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            background: rgba(255, 255, 255, 0.95);
            padding: 15px 20px;
            border-radius: 50px;
            box-shadow: 0 5px 20px rgba(255, 105, 180, 0.4);
            display: flex;
            align-items: center;
            gap: 12px;
            transition: all 0.3s ease;
        }

        .music-player:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 25px rgba(255, 105, 180, 0.6);
        }

        .music-toggle {
            font-size: 24px;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .music-toggle:hover {
            transform: rotate(15deg) scale(1.1);
        }

        .music-toggle.playing {
            animation: pulse-music 1s infinite;
        }

        @keyframes pulse-music {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .music-info {
            font-size: 13px;
            color: #FF1493;
            font-weight: 500;
        }

        /* Progress tracker */
        .progress-tracker {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 1000;
            background: rgba(255, 255, 255, 0.95);
            padding: 15px 20px;
            border-radius: 20px;
            box-shadow: 0 5px 20px rgba(255, 105, 180, 0.4);
            min-width: 200px;
        }

        .progress-tracker-title {
            font-size: 13px;
            color: #FF1493;
            font-weight: 600;
            margin-bottom: 8px;
            text-align: center;
        }

        .progress-dots {
            display: flex;
            gap: 8px;
            justify-content: center;
        }

        .progress-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #FFE5EC;
            transition: all 0.3s ease;
            position: relative;
        }

        .progress-dot.completed {
            background: linear-gradient(135deg, #FF69B4 0%, #FF1493 100%);
            animation: pop 0.5s ease;
        }

        .progress-dot.active {
            background: #FFB3C6;
            transform: scale(1.3);
            box-shadow: 0 0 10px rgba(255, 105, 180, 0.6);
        }

        @keyframes pop {
            0% { transform: scale(0); }
            50% { transform: scale(1.3); }
            100% { transform: scale(1); }
        }

        /* Days together counter */
        .days-counter {
            position: fixed;
            bottom: 20px;
            left: 20px;
            z-index: 1000;
            background: rgba(255, 255, 255, 0.95);
            padding: 15px 25px;
            border-radius: 20px;
            box-shadow: 0 5px 20px rgba(255, 105, 180, 0.4);
            text-align: center;
        }

        .days-number {
            font-size: 32px;
            font-weight: 700;
            background: linear-gradient(135deg, #FF69B4 0%, #FF1493 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .days-label {
            font-size: 12px;
            color: #FF1493;
            font-weight: 500;
            margin-top: 5px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 120px 20px 80px 20px;
            position: relative;
            z-index: 2;
        }

        .screen {
            background: rgba(255, 255, 255, 0.98);
            border-radius: 30px;
            padding: 50px 40px;
            box-shadow: 0 20px 60px rgba(255, 105, 180, 0.3);
            animation: fadeIn 1s ease-in;
            display: none;
            margin: 20px 0;
            border: 3px solid rgba(255, 182, 193, 0.5);
        }

        .screen.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(40px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        h1 {
            color: #FF1493;
            text-align: center;
            font-size: 42px;
            margin-bottom: 25px;
            text-shadow: 2px 2px 4px rgba(255, 105, 180, 0.2);
            font-weight: 700;
            line-height: 1.3;
        }

        h2 {
            color: #FF69B4;
            text-align: center;
            font-size: 32px;
            margin-bottom: 20px;
            font-weight: 600;
        }

        h3 {
            color: #FF69B4;
            font-size: 24px;
            margin: 25px 0 15px 0;
            font-weight: 600;
        }

        p {
            color: #555;
            line-height: 1.8;
            margin-bottom: 20px;
            text-align: center;
            font-size: 16px;
            font-weight: 400;
        }

        .btn {
            background: linear-gradient(135deg, #FF69B4 0%, #FF1493 100%);
            color: white;
            border: none;
            padding: 16px 45px;
            border-radius: 50px;
            font-size: 17px;
            font-weight: 600;
            cursor: pointer;
            display: block;
            margin: 35px auto;
            transition: all 0.4s ease;
            box-shadow: 0 10px 25px rgba(255, 20, 147, 0.3);
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .btn:hover::before {
            width: 300px;
            height: 300px;
        }

        .btn:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 15px 35px rgba(255, 20, 147, 0.4);
        }

        .btn:active {
            transform: translateY(-1px);
        }

        .task-counter {
            text-align: center;
            color: #FF69B4;
            font-size: 16px;
            margin-bottom: 20px;
            font-weight: 600;
        }

        .task-content {
            margin: 35px 0;
        }

        .task-question {
            background: linear-gradient(135deg, #FFF0F5 0%, #FFE4E1 100%);
            padding: 20px 25px;
            border-radius: 20px;
            margin: 20px 0;
            font-size: 17px;
            text-align: center;
            color: #FF1493;
            font-weight: 600;
            border: 2px solid rgba(255, 182, 193, 0.5);
        }

        input[type="text"], input[type="date"], textarea {
            width: 100%;
            padding: 16px 20px;
            border: 2px solid #FFB6C1;
            border-radius: 15px;
            font-size: 15px;
            margin: 12px 0;
            transition: all 0.3s ease;
            font-weight: 400;
            background: #FFF;
        }

        input[type="text"]:focus, input[type="date"]:focus, textarea:focus {
            outline: none;
            border-color: #FF69B4;
            box-shadow: 0 0 20px rgba(255, 105, 180, 0.3);
            transform: scale(1.01);
        }

        textarea {
            min-height: 120px;
            resize: vertical;
            font-family: 'Poppins', sans-serif;
        }

        .choices {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 18px;
            margin: 25px 0;
        }

        .choice-btn {
            background: linear-gradient(135deg, #FFF0F5 0%, #FFE4E1 100%);
            border: 3px solid #FFB6C1;
            padding: 22px 18px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            font-size: 16px;
            color: #FF1493;
            font-weight: 600;
            position: relative;
            overflow: hidden;
        }

        .choice-btn::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 105, 180, 0.2) 0%, transparent 70%);
            transform: scale(0);
            transition: transform 0.5s ease;
        }

        .choice-btn:hover::before {
            transform: scale(1);
        }

        .choice-btn:hover {
            background: linear-gradient(135deg, #FFE5EC 0%, #FFD0DC 100%);
            border-color: #FF69B4;
            transform: translateY(-5px) scale(1.03);
            box-shadow: 0 10px 25px rgba(255, 105, 180, 0.3);
        }

        .choice-btn.selected {
            background: linear-gradient(135deg, #FF69B4 0%, #FF1493 100%);
            color: white;
            border-color: #FF1493;
            transform: scale(1.05);
            box-shadow: 0 8px 20px rgba(255, 20, 147, 0.4);
        }

        /* Balloon Pop Game */
        .balloon-container {
            position: relative;
            height: 450px;
            margin: 30px 0;
            overflow: hidden;
            background: linear-gradient(180deg, #E0F7FF 0%, #FFF0F5 100%);
            border-radius: 20px;
            border: 3px solid #FFB6C1;
        }

        .balloon {
            position: absolute;
            width: 70px;
            height: 90px;
            cursor: pointer;
            transition: transform 0.2s ease;
            animation: float-balloon 4s ease-in-out infinite;
        }

        .balloon:hover {
            transform: scale(1.1);
        }

        .balloon-body {
            width: 70px;
            height: 85px;
            background: linear-gradient(135deg, #FF69B4 0%, #FF1493 100%);
            border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
            position: relative;
            box-shadow: inset -10px -10px 20px rgba(0, 0, 0, 0.1);
        }

        .balloon-string {
            position: absolute;
            width: 2px;
            height: 50px;
            background: #FFB6C1;
            left: 50%;
            bottom: -50px;
            transform: translateX(-50%);
        }

        @keyframes float-balloon {
            0%, 100% { transform: translateY(0) rotate(-3deg); }
            50% { transform: translateY(-20px) rotate(3deg); }
        }

        .balloon-message {
            position: absolute;
            background: white;
            padding: 15px 20px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(255, 105, 180, 0.3);
            font-size: 15px;
            color: #FF1493;
            font-weight: 500;
            white-space: nowrap;
            z-index: 100;
            animation: pop-message 0.5s ease;
            border: 2px solid #FFB6C1;
        }

        @keyframes pop-message {
            0% { transform: scale(0); opacity: 0; }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); opacity: 1; }
        }

        /* Memory game */
        .memory-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            margin: 25px 0;
            max-width: 550px;
            margin-left: auto;
            margin-right: auto;
        }

        .memory-card {
            aspect-ratio: 1;
            background: linear-gradient(135deg, #FFB6C1 0%, #FF69B4 100%);
            border-radius: 15px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 36px;
            transition: all 0.3s ease;
            position: relative;
            transform-style: preserve-3d;
            box-shadow: 0 5px 15px rgba(255, 105, 180, 0.3);
        }

        .memory-card:hover {
            transform: scale(1.05);
        }

        .memory-card .card-front,
        .memory-card .card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            backface-visibility: hidden;
            border-radius: 15px;
            transition: transform 0.6s;
        }

        .memory-card .card-front {
            background: linear-gradient(135deg, #FFB6C1 0%, #FF69B4 100%);
            transform: rotateY(0deg);
        }

        .memory-card .card-back {
            background: linear-gradient(135deg, #FFF0F5 0%, #FFE4E1 100%);
            transform: rotateY(180deg);
            border: 3px solid #FFB6C1;
        }

        .memory-card.flipped .card-front {
            transform: rotateY(180deg);
        }

        .memory-card.flipped .card-back {
            transform: rotateY(0deg);
        }

        .memory-card.matched {
            opacity: 0.7;
            cursor: default;
            animation: match-pulse 0.6s ease;
        }

        @keyframes match-pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.15); }
        }

        /* Word search */
        .word-search-grid {
            display: grid;
            grid-template-columns: repeat(10, 1fr);
            gap: 6px;
            margin: 25px 0;
            max-width: 550px;
            margin-left: auto;
            margin-right: auto;
        }

        .word-cell {
            aspect-ratio: 1;
            background: white;
            border: 2px solid #FFB6C1;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 15px;
            color: #FF1493;
        }

        .word-cell:hover {
            background: #FFF0F5;
            transform: scale(1.1);
        }

        .word-cell.selected {
            background: #FFB6C1;
            color: white;
            border-color: #FF69B4;
        }

        .word-cell.found {
            background: linear-gradient(135deg, #90EE90 0%, #32CD32 100%);
            color: white;
            border-color: #32CD32;
            animation: found-bounce 0.5s ease;
        }

        @keyframes found-bounce {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }

        .words-list {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            justify-content: center;
            margin: 25px 0;
        }

        .word-item {
            padding: 10px 20px;
            background: #FFF0F5;
            border-radius: 25px;
            font-weight: 600;
            color: #FF1493;
            border: 2px solid #FFB6C1;
            font-size: 15px;
            transition: all 0.3s ease;
        }

        .word-item.found {
            background: linear-gradient(135deg, #90EE90 0%, #32CD32 100%);
            color: white;
            text-decoration: line-through;
            border-color: #32CD32;
        }

        /* Fortune Cookie */
        .fortune-cookie-container {
            text-align: center;
            margin: 40px 0;
        }

        .fortune-cookie {
            width: 150px;
            height: 150px;
            margin: 0 auto 25px auto;
            cursor: pointer;
            position: relative;
            transition: transform 0.3s ease;
        }

        .fortune-cookie:hover {
            transform: scale(1.1) rotate(5deg);
        }

        .fortune-cookie.opened {
            animation: crack-cookie 0.6s ease;
        }

        @keyframes crack-cookie {
            0% { transform: scale(1) rotate(0deg); }
            25% { transform: scale(1.1) rotate(-10deg); }
            50% { transform: scale(1.2) rotate(10deg); }
            75% { transform: scale(1.1) rotate(-5deg); }
            100% { transform: scale(1) rotate(0deg); }
        }

        .cookie-circle {
            width: 150px;
            height: 150px;
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 70px;
            box-shadow: 0 10px 30px rgba(255, 165, 0, 0.3);
            border: 3px solid #FFB347;
        }

        .fortune-message {
            background: linear-gradient(135deg, #FFF0F5 0%, #FFE4E1 100%);
            padding: 25px 30px;
            border-radius: 20px;
            margin-top: 25px;
            font-size: 17px;
            color: #FF1493;
            font-weight: 500;
            line-height: 1.8;
            border: 3px solid #FFB6C1;
            box-shadow: 0 10px 30px rgba(255, 105, 180, 0.2);
            display: none;
            animation: fadeIn 0.8s ease;
        }

        .fortune-message.show {
            display: block;
        }

        /* Spin the Wheel */
        .wheel-container {
            text-align: center;
            margin: 40px 0;
            position: relative;
        }

        .wheel {
            width: 300px;
            height: 300px;
            margin: 0 auto;
            position: relative;
            border-radius: 50%;
            border: 8px solid #FF69B4;
            box-shadow: 0 10px 40px rgba(255, 105, 180, 0.4);
            transition: transform 4s cubic-bezier(0.25, 0.1, 0.25, 1);
        }

        .wheel-segment {
            position: absolute;
            width: 50%;
            height: 50%;
            transform-origin: 100% 100%;
            clip-path: polygon(0 0, 100% 0, 100% 100%);
        }

        .wheel-center {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, #FF69B4 0%, #FF1493 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
            cursor: pointer;
            z-index: 10;
            border: 5px solid white;
            box-shadow: 0 5px 20px rgba(255, 20, 147, 0.4);
            transition: all 0.3s ease;
        }

        .wheel-center:hover {
            transform: translate(-50%, -50%) scale(1.1);
        }

        .wheel-pointer {
            position: absolute;
            top: -30px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 20px solid transparent;
            border-right: 20px solid transparent;
            border-top: 40px solid #FF1493;
            z-index: 11;
            filter: drop-shadow(0 5px 10px rgba(255, 20, 147, 0.3));
        }

        .wheel-result {
            margin-top: 30px;
            font-size: 18px;
            color: #FF1493;
            font-weight: 600;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #FFF0F5 0%, #FFE4E1 100%);
            padding: 20px;
            border-radius: 15px;
            border: 2px solid #FFB6C1;
        }

        /* Progress bar */
        .progress-bar {
            width: 100%;
            height: 35px;
            background: rgba(255, 182, 193, 0.3);
            border-radius: 20px;
            overflow: hidden;
            margin: 25px 0;
            border: 2px solid #FFB6C1;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #FF69B4 0%, #FF1493 100%);
            transition: width 0.8s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 15px;
        }

        /* Final message */
        .final-message {
            text-align: center;
            padding: 20px;
        }

        .final-message h1 {
            font-size: 48px;
            margin-bottom: 35px;
            animation: pulse-heart 2s infinite;
        }

        @keyframes pulse-heart {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .message-box {
            background: linear-gradient(135deg, #FFF0F5 0%, #FFE4E1 100%);
            padding: 35px 40px;
            border-radius: 25px;
            margin: 35px 0;
            font-size: 17px;
            line-height: 2;
            color: #555;
            box-shadow: 0 15px 40px rgba(255, 105, 180, 0.3);
            border: 3px solid #FFB6C1;
        }

        .message-box p {
            text-align: left;
            margin-bottom: 18px;
        }

        .message-box strong {
            color: #FF1493;
            font-weight: 700;
        }

        /* Photo gallery */
        .photo-gallery {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin: 35px 0;
        }

        .photo-item {
            position: relative;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 15px 40px rgba(255, 105, 180, 0.3);
            transition: all 0.4s ease;
            cursor: pointer;
            border: 3px solid #FFB6C1;
        }

        .photo-item:hover {
            transform: scale(1.05) rotate(2deg);
            box-shadow: 0 20px 50px rgba(255, 105, 180, 0.5);
        }

        .photo-placeholder {
            width: 100%;
            aspect-ratio: 1;
            background: linear-gradient(135deg, #FFB6C1 0%, #FF69B4 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 80px;
        }

        .photo-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .photo-caption {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(to top, rgba(255, 20, 147, 0.95) 0%, transparent 100%);
            color: white;
            padding: 25px 20px;
            text-align: center;
            transform: translateY(100%);
            transition: transform 0.4s ease;
            font-weight: 500;
            font-size: 15px;
        }

        .photo-item:hover .photo-caption {
            transform: translateY(0);
        }

        /* Ring animation */
        .ring-container {
            margin: 60px auto;
            perspective: 1200px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .ring {
            width: 180px;
            height: 180px;
            position: relative;
            transform-style: preserve-3d;
            animation: rotateRing 5s linear infinite;
        }

        @keyframes rotateRing {
            0% { transform: rotateY(0deg) rotateX(20deg); }
            100% { transform: rotateY(360deg) rotateX(20deg); }
        }

        .ring-band {
            position: absolute;
            width: 180px;
            height: 180px;
            border: 25px solid;
            border-image: linear-gradient(135deg, #FFD700, #FFA500, #FFD700) 1;
            border-radius: 50%;
            box-shadow: 0 0 40px rgba(255, 215, 0, 0.6),
                        inset 0 0 40px rgba(255, 215, 0, 0.3);
        }

        .ring-diamond {
            position: absolute;
            top: -25px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 25px solid transparent;
            border-right: 25px solid transparent;
            border-bottom: 40px solid #FF1493;
            filter: drop-shadow(0 0 15px rgba(255, 20, 147, 0.8));
        }

        .ring-diamond::before {
            content: '';
            position: absolute;
            top: 40px;
            left: -25px;
            width: 0;
            height: 0;
            border-left: 25px solid transparent;
            border-right: 25px solid transparent;
            border-top: 25px solid #FF1493;
        }

        .ring-sparkle {
            position: absolute;
            width: 5px;
            height: 5px;
            background: white;
            border-radius: 50%;
            animation: sparkle 1.5s ease-in-out infinite;
        }

        @keyframes sparkle {
            0%, 100% {
                opacity: 0;
                transform: scale(0);
            }
            50% {
                opacity: 1;
                transform: scale(2);
            }
        }

        .ring-message {
            text-align: center;
            margin-top: 35px;
            font-size: 28px;
            color: #FF1493;
            font-weight: 700;
            animation: pulse-heart 2s infinite;
        }

        /* Timeline */
        .timeline-container {
            margin: 40px 0;
            position: relative;
        }

        .timeline-line {
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 4px;
            background: linear-gradient(to bottom, #FF69B4, #FF1493);
            transform: translateX(-50%);
        }

        .timeline-item {
            display: flex;
            margin-bottom: 50px;
            position: relative;
        }

        .timeline-item:nth-child(odd) {
            flex-direction: row-reverse;
        }

        .timeline-content {
            width: 45%;
            background: linear-gradient(135deg, #FFF0F5 0%, #FFE4E1 100%);
            padding: 25px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(255, 105, 180, 0.2);
            border: 3px solid #FFB6C1;
        }

        .timeline-dot {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            width: 20px;
            height: 20px;
            background: #FF1493;
            border-radius: 50%;
            border: 4px solid white;
            box-shadow: 0 0 15px rgba(255, 20, 147, 0.5);
            z-index: 2;
        }

        .timeline-date {
            font-size: 15px;
            color: #FF69B4;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .timeline-title {
            font-size: 18px;
            color: #FF1493;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .timeline-description {
            font-size: 14px;
            color: #666;
            line-height: 1.6;
        }

        /* Reasons I Love You */
        .reasons-container {
            margin: 40px 0;
        }

        .reasons-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .reason-card {
            background: linear-gradient(135deg, #FFF0F5 0%, #FFE4E1 100%);
            padding: 25px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(255, 105, 180, 0.2);
            transition: all 0.3s ease;
            border: 3px solid #FFB6C1;
            position: relative;
            overflow: hidden;
        }

        .reason-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 105, 180, 0.1) 0%, transparent 70%);
            transform: scale(0);
            transition: transform 0.5s ease;
        }

        .reason-card:hover::before {
            transform: scale(1);
        }

        .reason-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 40px rgba(255, 105, 180, 0.4);
        }

        .reason-number {
            font-size: 36px;
            font-weight: 700;
            background: linear-gradient(135deg, #FF69B4 0%, #FF1493 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 15px;
        }

        .reason-text {
            font-size: 15px;
            color: #555;
            line-height: 1.7;
            font-weight: 500;
        }

        /* Hint and error messages */
        .hint-btn {
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
            color: #333;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            cursor: pointer;
            margin: 12px auto;
            display: block;
            transition: all 0.3s ease;
            font-weight: 600;
            font-size: 14px;
            box-shadow: 0 5px 15px rgba(255, 165, 0, 0.3);
        }

        .hint-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 20px rgba(255, 165, 0, 0.4);
        }

        .hint-box {
            background: linear-gradient(135deg, #E0F7FF 0%, #B3E5FC 100%);
            color: #0277BD;
            padding: 18px 25px;
            border-radius: 15px;
            margin: 18px 0;
            display: none;
            font-size: 15px;
            font-weight: 500;
            border: 2px solid #4FC3F7;
        }

        .hint-box.show {
            display: block;
            animation: fadeIn 0.5s ease-in;
        }

        .error-message {
            background: linear-gradient(135deg, #FFCDD2 0%, #EF5350 100%);
            color: white;
            padding: 18px 25px;
            border-radius: 15px;
            margin: 18px 0;
            text-align: center;
            display: none;
            font-weight: 600;
            font-size: 15px;
            border: 2px solid #E53935;
        }

        .error-message.show {
            display: block;
            animation: shake 0.5s ease-in-out;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-12px); }
            75% { transform: translateX(12px); }
        }

        .success-message {
            background: linear-gradient(135deg, #C8E6C9 0%, #66BB6A 100%);
            color: white;
            padding: 18px 25px;
            border-radius: 15px;
            margin: 18px 0;
            text-align: center;
            display: none;
            font-weight: 600;
            font-size: 15px;
            border: 2px solid #4CAF50;
        }

        .success-message.show {
            display: block;
            animation: fadeIn 0.5s ease-in;
        }

        .timer {
            text-align: center;
            font-size: 17px;
            color: #FF69B4;
            font-weight: 600;
            margin: 25px 0;
            padding: 15px;
            background: #FFF0F5;
            border-radius: 15px;
            border: 2px solid #FFB6C1;
        }

        /* Canvas */
        #drawCanvas {
            border: 3px solid #FFB6C1;
            border-radius: 20px;
            background: white;
            cursor: crosshair;
            display: block;
            margin: 25px auto;
            box-shadow: 0 10px 30px rgba(255, 105, 180, 0.2);
        }

        /* Confetti */
        .confetti {
            position: fixed;
            width: 12px;
            height: 12px;
            position: absolute;
            animation: confetti-fall 3s linear;
        }

        @keyframes confetti-fall {
            to {
                transform: translateY(100vh) rotate(720deg);
                opacity: 0;
            }
        }

        /* Fireworks */
        .fireworks {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1000;
        }

        .firework {
            position: absolute;
            width: 6px;
            height: 6px;
            border-radius: 50%;
            animation: explode 1.2s ease-out;
        }

        @keyframes explode {
            0% {
                opacity: 1;
                transform: translate(0, 0) scale(1);
            }
            100% {
                opacity: 0;
                transform: translate(var(--tx), var(--ty)) scale(0);
            }
        }

        /* Download button */
        .download-btn {
            background: linear-gradient(135deg, #9C27B0 0%, #7B1FA2 100%);
            color: white;
            border: none;
            padding: 14px 35px;
            border-radius: 25px;
            cursor: pointer;
            margin: 15px 10px;
            display: inline-block;
            transition: all 0.3s ease;
            font-weight: 600;
            font-size: 15px;
            box-shadow: 0 8px 20px rgba(156, 39, 176, 0.3);
        }

        .download-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 30px rgba(156, 39, 176, 0.4);
        }

        /* Entry screen special */
        #entry {
            min-height: 60vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        #noBtn {
            background: linear-gradient(135deg, #FF6B6B 0%, #EE5A6F 100%);
        }

        /* Responsive */
        @media (max-width: 768px) {
            h1 { font-size: 32px; }
            h2 { font-size: 26px; }
            h3 { font-size: 20px; }
            
            .container { padding: 100px 15px 60px 15px; }
            .screen { padding: 35px 25px; }
            
            .music-player, .progress-tracker, .days-counter {
                position: static;
                margin: 15px auto;
                max-width: 300px;
            }
            
            .choices { grid-template-columns: 1fr; }
            
            .memory-grid { grid-template-columns: repeat(4, 1fr); max-width: 100%; }
            .word-search-grid { max-width: 100%; }
            
            .photo-gallery { grid-template-columns: 1fr; }
            
            .timeline-line { display: none; }
            .timeline-item { flex-direction: column !important; margin-bottom: 30px; }
            .timeline-content { width: 100%; }
            .timeline-dot { position: relative; left: 0; transform: none; margin: 15px auto; }
            
            .reasons-grid { grid-template-columns: 1fr; }
            
            .wheel { width: 250px; height: 250px; }
            .ring { width: 150px; height: 150px; }
            .ring-band { width: 150px; height: 150px; border-width: 20px; }
        }

        /* Loading animation */
        .loading {
            display: inline-block;
            width: 24px;
            height: 24px;
            border: 3px solid rgba(255, 105, 180, 0.3);
            border-radius: 50%;
            border-top-color: #FF69B4;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Secret message */
        .secret-message {
            background: linear-gradient(135deg, #FFF0F5 0%, #FFE4E1 100%);
            padding: 25px;
            border-radius: 20px;
            margin: 30px 0;
            text-align: center;
            border: 3px dashed #FFB6C1;
            position: relative;
            overflow: hidden;
        }

        .secret-text {
            color: transparent;
            background: linear-gradient(135deg, #FF69B4 0%, #FF1493 100%);
            -webkit-background-clip: text;
            background-clip: text;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.5s ease;
            user-select: none;
        }

        .secret-message:hover .secret-text {
            color: #FF1493;
            background: none;
        }

        .secret-label {
            font-size: 13px;
            color: #FF69B4;
            font-weight: 600;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <!-- Floating hearts background -->
    <div class="hearts-container" id="heartsContainer"></div>

    <!-- Music Player -->
    <div class="music-player">
        <div class="music-toggle" id="musicToggle" onclick="toggleMusic()">üéµ</div>
        <div class="music-info">Our Song</div>
    </div>
    <audio id="bgMusic" loop>
        <source src="path/to/your/music.mp3" type="audio/mpeg">
    </audio>

    <!-- Progress Tracker -->
    <div class="progress-tracker">
        <div class="progress-tracker-title">Journey Progress</div>
        <div class="progress-dots" id="progressDots"></div>
    </div>

    <!-- Days Together Counter -->
    <div class="days-counter">
        <div class="days-number" id="daysNumber">0</div>
        <div class="days-label">Days Together ‚ù§Ô∏è</div>
    </div>

    <div class="container">
        <!-- Entry Question Screen -->
        <div class="screen active" id="entry">
            <h1>üíù Before We Begin... üíù</h1>
            <div style="margin: 80px 0;">
                <h2 style="font-size: 38px; color: #FF1493; margin-bottom: 50px;">Do You Love Me?</h2>
                <div style="display: flex; gap: 35px; justify-content: center; align-items: center; margin-top: 60px; flex-wrap: wrap;">
                    <button class="btn" style="background: linear-gradient(135deg, #90EE90 0%, #32CD32 100%); font-size: 20px; padding: 22px 70px;" onclick="answerYes()">üíï YES! üíï</button>
                    <button class="btn" id="noBtn" style="font-size: 20px; padding: 22px 70px; position: relative;" onmouseover="moveNoButton()" onclick="moveNoButton()">üò¢ No</button>
                </div>
            </div>
        </div>

        <!-- Welcome Screen -->
        <div class="screen" id="welcome">
            <h1>üíù Welcome, My Beautiful Kavya! üíù</h1>
            <p style="font-size: 18px; margin: 25px 0;">Happy Valentine's Day, my love! ‚ù§Ô∏è</p>
            <p>I've prepared something incredibly special for you today. This is not just a simple message - it's a magical journey through our love, our memories, and everything that makes us unique.</p>
            <p>Get ready to embark on an adventure filled with love, laughter, and beautiful surprises! Complete the tasks ahead, and at the end, you'll discover something that will make your heart flutter! üíï</p>
            <p style="font-style: italic; color: #FF69B4; font-size: 15px;">Take your time, enjoy every moment, and know that every task represents a piece of my heart beating for you. üíñ</p>
            
            <div class="secret-message">
                <div class="secret-label">‚ú® Hover here for a secret message ‚ú®</div>
                <div class="secret-text">Every moment with you is my favorite moment. You're my forever! üíï</div>
            </div>
            
            <button class="btn" onclick="startJourney()">Let's Begin Our Journey! üíñ</button>
        </div>

        <!-- Task 1: Love Questions -->
        <div class="screen" id="task1">
            <div class="task-counter">Task 1 of 12</div>
            <div class="progress-bar">
                <div class="progress-fill" style="width: 8.33%">8%</div>
            </div>
            <h2>üí≠ Our Love Story Quiz</h2>
            <p>Let's see how well you remember our special moments together!</p>
            
            <div class="task-content">
                <div class="task-question">What was the first movie we watched together?</div>
                <input type="text" id="q1" placeholder="Type your answer here...">
                
                <div class="task-question">What's our favorite place to eat together?</div>
                <input type="text" id="q2" placeholder="Type your answer here...">
                
                <div class="task-question">When did we have our first date?</div>
                <input type="date" id="q3">
            </div>
            
            <div class="error-message" id="error1">Oops! Please fill in all the answers! üíï</div>
            <button class="hint-btn" onclick="showHint(1)">Need a hint? üí°</button>
            <div class="hint-box" id="hint1">
                Think about those beautiful moments we shared. Every answer is precious to us! There's no wrong answer - just share what's in your heart. üíï
            </div>
            <button class="btn" onclick="validateTask1()">Continue to Next Task ‚Üí</button>
        </div>

        <!-- Task 2: Balloon Pop Game -->
        <div class="screen" id="task2">
            <div class="task-counter">Task 2 of 12</div>
            <div class="progress-bar">
                <div class="progress-fill" style="width: 16.66%">17%</div>
            </div>
            <h2>üéà Pop the Love Balloons!</h2>
            <p>Pop all the balloons to reveal sweet messages! Click on each balloon! üíï</p>
            
            <div class="task-content">
                <div class="balloon-container" id="balloonContainer"></div>
                <div class="timer" id="timer2">Balloons popped: <span id="balloonCount">0</span>/8</div>
            </div>
            
            <div class="success-message" id="success2">Amazing! You found all my love messages! üéä</div>
            <button class="btn" onclick="validateTask2()" style="display: none;" id="task2btn">Continue to Next Task ‚Üí</button>
        </div>

        <!-- Task 3: Choose Your Feelings -->
        <div class="screen" id="task3">
            <div class="task-counter">Task 3 of 12</div>
            <div class="progress-bar">
                <div class="progress-fill" style="width: 25%">25%</div>
            </div>
            <h2>üíñ Express Your Heart</h2>
            <p>Choose all the feelings that describe how you feel about us:</p>
            
            <div class="task-content">
                <div class="choices">
                    <div class="choice-btn" onclick="toggleChoice(this)">üòä Happy</div>
                    <div class="choice-btn" onclick="toggleChoice(this)">ü•∞ Loved</div>
                    <div class="choice-btn" onclick="toggleChoice(this)">üíë Blessed</div>
                    <div class="choice-btn" onclick="toggleChoice(this)">üåü Grateful</div>
                    <div class="choice-btn" onclick="toggleChoice(this)">üí´ Excited</div>
                    <div class="choice-btn" onclick="toggleChoice(this)">üåà Hopeful</div>
                    <div class="choice-btn" onclick="toggleChoice(this)">üòç In Love</div>
                    <div class="choice-btn" onclick="toggleChoice(this)">üíï Complete</div>
                </div>
            </div>
            
            <div class="error-message" id="error3">Please select at least one feeling! üíï</div>
            <button class="btn" onclick="validateTask3()">Continue to Next Task ‚Üí</button>
        </div>

        <!-- Task 4: Fortune Cookie -->
        <div class="screen" id="task4">
            <div class="task-counter">Task 4 of 12</div>
            <div class="progress-bar">
                <div class="progress-fill" style="width: 33.33%">33%</div>
            </div>
            <h2>ü•† Love Fortune Cookie</h2>
            <p>Click the fortune cookie to reveal your romantic fortune!</p>
            
            <div class="task-content">
                <div class="fortune-cookie-container">
                    <div class="fortune-cookie" id="fortuneCookie" onclick="openFortuneCookie()">
                        <div class="cookie-circle">ü•†</div>
                    </div>
                    <p style="font-size: 15px; color: #FF69B4; font-weight: 600;">Click the cookie! ‚òùÔ∏è</p>
                    <div class="fortune-message" id="fortuneMessage"></div>
                </div>
            </div>
            
            <button class="btn" onclick="validateTask4()" style="display: none;" id="task4btn">Continue to Next Task ‚Üí</button>
        </div>

        <!-- Task 5: Spin the Wheel -->
        <div class="screen" id="task5">
            <div class="task-counter">Task 5 of 12</div>
            <div class="progress-bar">
                <div class="progress-fill" style="width: 41.66%">42%</div>
            </div>
            <h2>üé° Spin the Love Wheel!</h2>
            <p>Click the center to spin and discover what I promise you!</p>
            
            <div class="task-content">
                <div class="wheel-container">
                    <div class="wheel-pointer"></div>
                    <div class="wheel" id="wheel">
                        <div class="wheel-center" onclick="spinWheel()">SPIN</div>
                    </div>
                    <div class="wheel-result" id="wheelResult">Click SPIN to begin! üíï</div>
                </div>
            </div>
            
            <button class="btn" onclick="validateTask5()" style="display: none;" id="task5btn">Continue to Next Task ‚Üí</button>
        </div>

        <!-- Task 6: Memory Card Game -->
        <div class="screen" id="task6">
            <div class="task-counter">Task 6 of 12</div>
            <div class="progress-bar">
                <div class="progress-fill" style="width: 50%">50%</div>
            </div>
            <h2>üíï Match Our Love</h2>
            <p>Find all the matching pairs of hearts! Click on cards to flip them.</p>
            
            <div class="task-content">
                <div class="memory-grid" id="memoryGrid"></div>
                <div class="timer" id="timer6">Pairs found: <span id="pairsCount">0</span>/8</div>
            </div>
            
            <div class="success-message" id="success6">Amazing! You found all the pairs! üéä</div>
            <button class="hint-btn" onclick="showHint(6)">Need a hint? üí°</button>
            <div class="hint-box" id="hint6">
                Just like in our relationship, it's all about finding the perfect match! Take your time and remember where each heart is. üíñ
            </div>
            <button class="btn" onclick="validateTask6()" style="display: none;" id="task6btn">Continue to Next Task ‚Üí</button>
        </div>

        <!-- Task 7: Word Search -->
        <div class="screen" id="task7">
            <div class="task-counter">Task 7 of 12</div>
            <div class="progress-bar">
                <div class="progress-fill" style="width: 58.33%">58%</div>
            </div>
            <h2>üîç Find Our Love Words</h2>
            <p>Find all the hidden words in the grid! Click cells to select them.</p>
            
            <div class="task-content">
                <div class="words-list" id="wordsList"></div>
                <div class="word-search-grid" id="wordSearchGrid"></div>
                <div class="timer" id="timer7">Words found: <span id="wordsCount">0</span>/6</div>
            </div>
            
            <div class="success-message" id="success7">Wonderful! You found all our love words! üíù</div>
            <button class="hint-btn" onclick="showHint(7)">Need a hint? üí°</button>
            <div class="hint-box" id="hint7">
                Look carefully! The words can go horizontally, vertically, or diagonally. Click to select letters. Each word represents something special about us! üíñ
            </div>
            <button class="btn" onclick="validateTask7()" style="display: none;" id="task7btn">Continue to Next Task ‚Üí</button>
        </div>

        <!-- Task 8: Our Favorite Things -->
        <div class="screen" id="task8">
            <div class="task-counter">Task 8 of 12</div>
            <div class="progress-bar">
                <div class="progress-fill" style="width: 66.66%">67%</div>
            </div>
            <h2>üíë Our Favorite Things Together</h2>
            <p>Choose at least 3 things you love doing with me!</p>
            
            <div class="task-content">
                <div class="choices" id="favoritesGrid">
                    <div class="choice-btn" onclick="toggleFavorite(this)">üçï Eating Together</div>
                    <div class="choice-btn" onclick="toggleFavorite(this)">üé¨ Watching Movies</div>
                    <div class="choice-btn" onclick="toggleFavorite(this)">üöó Going on Drives</div>
                    <div class="choice-btn" onclick="toggleFavorite(this)">üí¨ Deep Talks</div>
                    <div class="choice-btn" onclick="toggleFavorite(this)">üòÇ Laughing Together</div>
                    <div class="choice-btn" onclick="toggleFavorite(this)">ü§ó Cuddling</div>
                    <div class="choice-btn" onclick="toggleFavorite(this)">üì∏ Taking Photos</div>
                    <div class="choice-btn" onclick="toggleFavorite(this)">üéµ Listening to Music</div>
                </div>
                <div class="timer" id="timer8">Selected: <span id="selectedCount">0</span> items</div>
            </div>
            
            <div class="success-message" id="success8">Beautiful choices! These are our special moments! üíï</div>
            <div class="error-message" id="error8">Please select at least 3 favorite things! üíï</div>
            <button class="btn" onclick="validateTask8()">Continue to Next Task ‚Üí</button>
        </div>

        <!-- Task 9: Love Letter -->
        <div class="screen" id="task9">
            <div class="task-counter">Task 9 of 12</div>
            <div class="progress-bar">
                <div class="progress-fill" style="width: 75%">75%</div>
            </div>
            <h2>üíå A Letter From Your Heart</h2>
            <p>Write a few words about what our relationship means to you:</p>
            
            <div class="task-content">
                <textarea id="loveLetter" placeholder="My Dearest Love,

What we share together means the world to me...

(Write anything from your heart - there's no right or wrong answer. Just be you! üíï)"></textarea>
            </div>
            
            <div class="error-message" id="error9">Please write something from your heart! üíï</div>
            <button class="btn" onclick="validateTask9()">Continue to Next Task ‚Üí</button>
        </div>

        <!-- Task 10: Final Promise -->
        <div class="screen" id="task10">
            <div class="task-counter">Task 10 of 12</div>
            <div class="progress-bar">
                <div class="progress-fill" style="width: 83.33%">83%</div>
            </div>
            <h2>üíç Our Promise</h2>
            <p>What do you promise for our future together?</p>
            
            <div class="task-content">
                <div class="task-question">Choose your heartfelt promise:</div>
                <div class="choices">
                    <div class="choice-btn" onclick="selectSingleChoice(this)">üíë To always love you</div>
                    <div class="choice-btn" onclick="selectSingleChoice(this)">üåü To support your dreams</div>
                    <div class="choice-btn" onclick="selectSingleChoice(this)">üíï To be your best friend</div>
                    <div class="choice-btn" onclick="selectSingleChoice(this)">üåà All of the above!</div>
                </div>
            </div>
            
            <div class="error-message" id="error10">Please select your promise! üíï</div>
            <button class="btn" onclick="validateTask10()">Continue to Next Task ‚Üí</button>
        </div>

        <!-- Task 11: Draw Your Heart -->
        <div class="screen" id="task11">
            <div class="task-counter">Task 11 of 12</div>
            <div class="progress-bar">
                <div class="progress-fill" style="width: 91.66%">92%</div>
            </div>
            <h2>üíù Draw Your Love</h2>
            <p>Use your finger or mouse to draw something special for me! üíï</p>
            
            <div class="task-content">
                <canvas id="drawCanvas"></canvas>
                <div style="text-align: center; margin-top: 20px;">
                    <button class="hint-btn" onclick="clearCanvas()" style="background: linear-gradient(135deg, #FF6B6B 0%, #EE5A6F 100%); color: white; margin-right: 10px;">üóëÔ∏è Clear & Redraw</button>
                    <button class="hint-btn" onclick="showHint(11)">Need a hint? üí°</button>
                </div>
            </div>
            
            <div class="hint-box" id="hint11">
                Just draw anything with your heart! A simple scribble, a heart shape, or even just your initials - anything you draw with love is perfect! üíñ
            </div>
            <div class="success-message" id="success11">Beautiful! Your art is perfect! üé®üíï</div>
            <button class="btn" onclick="validateTask11()" id="task11btn" style="display: none;">One More Task! üíñ</button>
        </div>

        <!-- Task 12: Reasons I Love You -->
        <div class="screen" id="task12">
            <div class="task-counter">Task 12 of 12</div>
            <div class="progress-bar">
                <div class="progress-fill" style="width: 100%">100%</div>
            </div>
            <h2>‚ù§Ô∏è Why I Love You</h2>
            <p>Here are just a few of the countless reasons why my heart belongs to you...</p>
            
            <div class="task-content">
                <div class="reasons-container">
                    <div class="reasons-grid">
                        <div class="reason-card">
                            <div class="reason-number">1</div>
                            <div class="reason-text">Your beautiful smile that lights up my entire world and makes everything better</div>
                        </div>
                        <div class="reason-card">
                            <div class="reason-number">2</div>
                            <div class="reason-text">The way you understand me without words, like we have our own secret language</div>
                        </div>
                        <div class="reason-card">
                            <div class="reason-number">3</div>
                            <div class="reason-text">Your kindness and compassion that inspire me to be a better person every day</div>
                        </div>
                        <div class="reason-card">
                            <div class="reason-number">4</div>
                            <div class="reason-text">The adorable way you laugh that makes my heart skip a beat every single time</div>
                        </div>
                        <div class="reason-card">
                            <div class="reason-number">5</div>
                            <div class="reason-text">Your strength and courage in facing challenges, showing me what true bravery means</div>
                        </div>
                        <div class="reason-card">
                            <div class="reason-number">6</div>
                            <div class="reason-text">The way you support my dreams and believe in me, even when I doubt myself</div>
                        </div>
                        <div class="reason-card">
                            <div class="reason-number">7</div>
                            <div class="reason-text">Your cute little habits and quirks that make you uniquely and perfectly you</div>
                        </div>
                        <div class="reason-card">
                            <div class="reason-number">8</div>
                            <div class="reason-text">The comfort I feel in your presence, like I'm finally home wherever you are</div>
                        </div>
                        <div class="reason-card">
                            <div class="reason-number">9</div>
                            <div class="reason-text">Your intelligence and the fascinating conversations that keep me engaged for hours</div>
                        </div>
                        <div class="reason-card">
                            <div class="reason-number">10</div>
                            <div class="reason-text">The way you make ordinary moments feel extraordinary, just by being there with me</div>
                        </div>
                        <div class="reason-card">
                            <div class="reason-number">‚àû</div>
                            <div class="reason-text">And infinite more reasons that I discover every single day we're together! üíï</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <button class="btn" onclick="validateTask12()">Reveal My Surprise! üéÅ</button>
        </div>

        <!-- Final Reveal -->
        <div class="screen" id="final">
            <div class="final-message">
                <h1>üíù My Dearest Kavya Kutty... üíù</h1>
                
                <div class="message-box">
                    <p><strong>Happy Valentine's Day 2025! ‚ù§Ô∏è</strong></p>
                    <p>You've completed this journey, just like how we complete each other every single day. Each task represented a piece of our beautiful story together.</p>
                    <p>From the moment I met you, my life changed forever. You brought colors to my world, joy to my heart, and meaning to every moment we share.</p>
                    <p>Every line of code I wrote for this website, every task I created, every animation I perfected - was filled with love for you. You're not just my Valentine - you're my forever, my always, my everything.</p>
                    <p>Thank you for being you. Thank you for loving me. Thank you for making every day feel like the most special day of my life.</p>
                    <p>I promise to always cherish you, support you, make you laugh, and love you with every beat of my heart.</p>
                    <p><strong>I love you more than words can express, more than code can compute, and more than my heart can contain! üíï</strong></p>
                    <p style="text-align: right; font-style: italic; margin-top: 30px; color: #FF1493;">- Your Developer Forever, Your Love Always ‚ù§Ô∏è</p>
                </div>

                <h2 style="margin-top: 50px; font-size: 36px;">üì∏ Our Beautiful Journey üì∏</h2>
                <p style="font-size: 14px; color: #999; margin-bottom: 30px;">Hover over each photo to see the memory!</p>
                
                <div class="photo-gallery">
                    <div class="photo-item">
                        <img src="path/to/photo1.jpg" alt="Our First Date" class="photo-img" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex'">
                        <div class="photo-placeholder">üíï</div>
                        <div class="photo-caption">Our First Date üíë<br>The day everything began</div>
                    </div>
                    <div class="photo-item">
                        <img src="path/to/photo2.jpg" alt="That Special Moment" class="photo-img" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex'">
                        <div class="photo-placeholder">üíñ</div>
                        <div class="photo-caption">That Special Moment üí´<br>When I knew you were the one</div>
                    </div>
                    <div class="photo-item">
                        <img src="path/to/photo3.jpg" alt="Our Adventure" class="photo-img" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex'">
                        <div class="photo-placeholder">üåç</div>
                        <div class="photo-caption">Our Adventure Together üåç<br>Making memories everywhere</div>
                    </div>
                    <div class="photo-item">
                        <img src="path/to/photo4.jpg" alt="Just Us" class="photo-img" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex'">
                        <div class="photo-placeholder">üíë</div>
                        <div class="photo-caption">Just Us Two üíï<br>My favorite moments with you</div>
                    </div>
                    <div class="photo-item">
                        <img src="path/to/photo5.jpg" alt="Celebration" class="photo-img" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex'">
                        <div class="photo-placeholder">üéâ</div>
                        <div class="photo-caption">Celebrating Love üéâ<br>Every celebration is better with you</div>
                    </div>
                    <div class="photo-item">
                        <img src="path/to/photo6.jpg" alt="Forever" class="photo-img" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex'">
                        <div class="photo-placeholder">üíç</div>
                        <div class="photo-caption">Forever & Always üíç<br>Looking forward to our future</div>
                    </div>
                </div>

                <h2 style="margin-top: 50px; font-size: 36px;">‚è≥ Our Love Timeline ‚è≥</h2>
                
                <div class="timeline-container">
                    <div class="timeline-line"></div>
                    
                    <div class="timeline-item">
                        <div class="timeline-content">
                            <div class="timeline-date">Day 1</div>
                            <div class="timeline-title">üíñ First Meeting</div>
                            <div class="timeline-description">The moment our eyes met, I knew something magical was beginning.</div>
                        </div>
                        <div class="timeline-dot"></div>
                    </div>
                    
                    <div class="timeline-item">
                        <div class="timeline-content">
                            <div class="timeline-date">First Month</div>
                            <div class="timeline-title">üåü First Date</div>
                            <div class="timeline-description">The day we officially started this beautiful journey together.</div>
                        </div>
                        <div class="timeline-dot"></div>
                    </div>
                    
                    <div class="timeline-item">
                        <div class="timeline-content">
                            <div class="timeline-date">Special Day</div>
                            <div class="timeline-title">üíï "I Love You"</div>
                            <div class="timeline-description">The first time we said those three words that changed everything.</div>
                        </div>
                        <div class="timeline-dot"></div>
                    </div>
                    
                    <div class="timeline-item">
                        <div class="timeline-content">
                            <div class="timeline-date">Today</div>
                            <div class="timeline-title">üíù Valentine's Day 2025</div>
                            <div class="timeline-description">Celebrating our love and looking forward to forever together!</div>
                        </div>
                        <div class="timeline-dot"></div>
                    </div>
                    
                    <div class="timeline-item">
                        <div class="timeline-content">
                            <div class="timeline-date">Future</div>
                            <div class="timeline-title">üíç Forever Together</div>
                            <div class="timeline-description">Building our dreams, creating memories, and loving each other always.</div>
                        </div>
                        <div class="timeline-dot"></div>
                    </div>
                </div>

                <!-- Rotating Ring -->
                <div class="ring-container">
                    <div class="ring">
                        <div class="ring-band"></div>
                        <div class="ring-diamond"></div>
                        <div class="ring-sparkle" style="top: 15px; left: 40px;"></div>
                        <div class="ring-sparkle" style="top: 40px; left: 15px; animation-delay: 0.5s;"></div>
                        <div class="ring-sparkle" style="top: 40px; right: 15px; animation-delay: 1s;"></div>
                        <div class="ring-sparkle" style="bottom: 40px; left: 30px; animation-delay: 1.5s;"></div>
                    </div>
                </div>
                <div class="ring-message">üíç This is for YOU, my forever love! üíç</div>
                <p style="text-align: center; margin-top: 25px; font-size: 18px; color: #FF1493; font-weight: 600;">Will you be mine forever? üíï</p>

                <div style="margin-top: 60px; padding: 35px; background: linear-gradient(135deg, #FF69B4 0%, #FF1493 100%); border-radius: 25px; color: white;">
                    <h3 style="color: white; font-size: 32px;">‚ú® Happy Valentine's Day 2025! ‚ú®</h3>
                    <p style="color: white; font-size: 17px; margin-top: 20px;">Here's to many more years of love, laughter, adventures, and beautiful moments together! I love you to the moon and back! üåôüíï</p>
                </div>

                <div style="text-align: center; margin-top: 40px;">
                    <button class="download-btn" onclick="downloadLetter()">üìÑ Download Love Letter</button>
                    <button class="download-btn" onclick="downloadCanvas()">üé® Download Your Drawing</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Global variables
        let currentTask = 'entry';
        let completedTasks = [];
        let selectedChoices = [];
        let memoryCards = [];
        let flippedCards = [];
        let matchedPairs = 0;
        let wordSearchState = [];
        let foundWords = [];
        let selectedCells = [];
        let canvas, ctx;
        let isDrawing = false;
        let hasDrawn = false;
        let musicPlaying = false;
        let favoritesSelected = 0;
        let balloonsPopped = 0;
        let fortuneOpened = false;
        let wheelSpun = false;

        // Initialize on page load
        window.onload = function() {
            createHearts();
            initProgressDots();
            calculateDaysTogether();
            loadProgress();
        };

        // Create floating hearts
        function createHearts() {
            const container = document.getElementById('heartsContainer');
            const heartSymbols = ['‚ù§Ô∏è', 'üíï', 'üíñ', 'üíó', 'üíù', 'üíì', 'üíû', 'üíò'];
            
            setInterval(() => {
                const heart = document.createElement('div');
                heart.className = 'heart';
                heart.textContent = heartSymbols[Math.floor(Math.random() * heartSymbols.length)];
                heart.style.left = Math.random() * 100 + '%';
                heart.style.fontSize = (Math.random() * 16 + 16) + 'px';
                heart.style.animationDuration = (Math.random() * 6 + 6) + 's';
                heart.style.animationDelay = Math.random() * 3 + 's';
                container.appendChild(heart);
                
                setTimeout(() => heart.remove(), 15000);
            }, 800);
        }

        // Initialize progress dots
        function initProgressDots() {
            const dotsContainer = document.getElementById('progressDots');
            for (let i = 0; i < 12; i++) {
                const dot = document.createElement('div');
                dot.className = 'progress-dot';
                dot.id = `dot${i + 1}`;
                dotsContainer.appendChild(dot);
            }
        }

        // Calculate days together
        function calculateDaysTogether() {
            // Set your actual relationship start date here
            const startDate = new Date('2024-01-01'); // Change this to your actual date
            const today = new Date();
            const diffTime = Math.abs(today - startDate);
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
            
            animateCounter('daysNumber', 0, diffDays, 2000);
        }

        // Animate counter
        function animateCounter(id, start, end, duration) {
            const element = document.getElementById(id);
            const range = end - start;
            const increment = range / (duration / 16);
            let current = start;
            
            const timer = setInterval(() => {
                current += increment;
                if (current >= end) {
                    element.textContent = end;
                    clearInterval(timer);
                } else {
                    element.textContent = Math.floor(current);
                }
            }, 16);
        }

        // Music controls
        function toggleMusic() {
            const music = document.getElementById('bgMusic');
            const toggle = document.getElementById('musicToggle');
            
            if (musicPlaying) {
                music.pause();
                toggle.classList.remove('playing');
                musicPlaying = false;
            } else {
                music.play();
                toggle.classList.add('playing');
                musicPlaying = true;
            }
        }

        // Save and load progress
        function saveProgress() {
            localStorage.setItem('valentineProgress', JSON.stringify({
                currentTask: currentTask,
                completedTasks: completedTasks
            }));
        }

        function loadProgress() {
            const saved = localStorage.getItem('valentineProgress');
            if (saved) {
                const data = JSON.parse(saved);
                // Optionally restore progress - for now we start fresh each time
            }
        }

        // Entry question functions
        function moveNoButton() {
            const noBtn = document.getElementById('noBtn');
            const container = noBtn.parentElement;
            const containerRect = container.getBoundingClientRect();
            const btnRect = noBtn.getBoundingClientRect();
            
            const maxX = window.innerWidth - btnRect.width - 40;
            const maxY = window.innerHeight - btnRect.height - 40;
            
            const randomX = Math.random() * (maxX - 40) + 20;
            const randomY = Math.random() * (maxY - 200) + 100;
            
            noBtn.style.position = 'fixed';
            noBtn.style.left = randomX + 'px';
            noBtn.style.top = randomY + 'px';
            noBtn.style.transition = 'all 0.3s ease';
        }

        function answerYes() {
            createConfetti();
            createFireworks();
            setTimeout(() => {
                showScreen('welcome');
                updateProgressDot(1);
            }, 1500);
        }

        // Start journey
        function startJourney() {
            showScreen('task1');
            updateProgressDot(1);
        }

        // Show screen
        function showScreen(screenId) {
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });
            document.getElementById(screenId).classList.add('active');
            currentTask = screenId;
            window.scrollTo({ top: 0, behavior: 'smooth' });
            
            // Initialize specific tasks
            if (screenId === 'task2') initBalloonGame();
            if (screenId === 'task6') initMemoryGame();
            if (screenId === 'task7') initWordSearch();
            if (screenId === 'task11') initCanvas();
            
            saveProgress();
        }

        // Update progress dot
        function updateProgressDot(taskNum) {
            const dot = document.getElementById(`dot${taskNum}`);
            if (dot) {
                dot.classList.add('completed');
                setTimeout(() => {
                    dot.classList.remove('active');
                    if (taskNum < 12) {
                        document.getElementById(`dot${taskNum + 1}`).classList.add('active');
                    }
                }, 300);
            }
        }

        // Task 1 validation
        function validateTask1() {
            const q1 = document.getElementById('q1').value.trim();
            const q2 = document.getElementById('q2').value.trim();
            const q3 = document.getElementById('q3').value;
            
            if (!q1 || !q2 || !q3) {
                showError(1);
                return;
            }
            
            createConfetti();
            completedTasks.push(1);
            updateProgressDot(1);
            setTimeout(() => showScreen('task2'), 500);
        }

        // Task 2: Balloon Pop Game
        function initBalloonGame() {
            const container = document.getElementById('balloonContainer');
            container.innerHTML = '';
            balloonsPopped = 0;
            document.getElementById('balloonCount').textContent = '0';
            
            const messages = [
                "You're my everything! üíï",
                "I love your smile! üòä",
                "You make me happy! üåü",
                "Forever together! üíë",
                "You're beautiful! üåπ",
                "My heart is yours! ‚ù§Ô∏è",
                "You complete me! üíù",
                "I adore you! ü•∞"
            ];
            
            const colors = ['#FF69B4', '#FF1493', '#FFB6C1', '#FF85A1', '#FF6B9D', '#FF4D94', '#FF94C2', '#FF7AB7'];
            
            for (let i = 0; i < 8; i++) {
                setTimeout(() => {
                    const balloon = document.createElement('div');
                    balloon.className = 'balloon';
                    balloon.style.left = (Math.random() * 80 + 10) + '%';
                    balloon.style.bottom = '0';
                    balloon.style.animationDelay = (Math.random() * 2) + 's';
                    
                    const balloonBody = document.createElement('div');
                    balloonBody.className = 'balloon-body';
                    balloonBody.style.background = `linear-gradient(135deg, ${colors[i]} 0%, ${colors[(i + 1) % colors.length]} 100%)`;
                    
                    const balloonString = document.createElement('div');
                    balloonString.className = 'balloon-string';
                    
                    balloon.appendChild(balloonBody);
                    balloon.appendChild(balloonString);
                    
                    balloon.onclick = () => popBalloon(balloon, messages[i]);
                    
                    container.appendChild(balloon);
                }, i * 200);
            }
        }

        function popBalloon(balloon, message) {
            if (balloon.classList.contains('popped')) return;
            
            balloon.classList.add('popped');
            balloonsPopped++;
            document.getElementById('balloonCount').textContent = balloonsPopped;
            
            // Show message
            const msgDiv = document.createElement('div');
            msgDiv.className = 'balloon-message';
            msgDiv.textContent = message;
            msgDiv.style.left = balloon.style.left;
            msgDiv.style.top = balloon.offsetTop + 'px';
            
            document.getElementById('balloonContainer').appendChild(msgDiv);
            
            // Animate balloon pop
            balloon.style.animation = 'none';
            balloon.style.transform = 'scale(0)';
            balloon.style.opacity = '0';
            
            setTimeout(() => balloon.remove(), 300);
            setTimeout(() => msgDiv.remove(), 2000);
            
            if (balloonsPopped === 8) {
                setTimeout(() => {
                    document.getElementById('success2').classList.add('show');
                    document.getElementById('task2btn').style.display = 'block';
                    createConfetti();
                }, 1000);
            }
        }

        function validateTask2() {
            completedTasks.push(2);
            updateProgressDot(2);
            showScreen('task3');
        }

        // Task 3: Toggle choice
        function toggleChoice(element) {
            element.classList.toggle('selected');
        }

        function validateTask3() {
            const selected = document.querySelectorAll('#task3 .choice-btn.selected');
            if (selected.length === 0) {
                showError(3);
                return;
            }
            createConfetti();
            completedTasks.push(3);
            updateProgressDot(3);
            setTimeout(() => showScreen('task4'), 500);
        }

        // Task 4: Fortune Cookie
        function openFortuneCookie() {
            if (fortuneOpened) return;
            
            const cookie = document.getElementById('fortuneCookie');
            const message = document.getElementById('fortuneMessage');
            
            const fortunes = [
                "Your love story is written in the stars, and every chapter is more beautiful than the last. üí´",
                "True love doesn't have a happy ending, because true love never ends. You've found yours! üíï",
                "The best is yet to come, and it will be even more magical with you by my side! üåü",
                "Some people search their whole lives for what you've already found - unconditional love! ‚ù§Ô∏è",
                "Your heart knows the way. Follow it, and you'll always find your way back to love! üíñ"
            ];
            
            const randomFortune = fortunes[Math.floor(Math.random() * fortunes.length)];
            
            cookie.classList.add('opened');
            message.textContent = randomFortune;
            message.classList.add('show');
            
            fortuneOpened = true;
            
            setTimeout(() => {
                document.getElementById('task4btn').style.display = 'block';
                createConfetti();
            }, 1000);
        }

        function validateTask4() {
            completedTasks.push(4);
            updateProgressDot(4);
            showScreen('task5');
            setTimeout(() => initWheel(), 500);
        }

        // Task 5: Spin the Wheel
        function initWheel() {
            const wheel = document.getElementById('wheel');
            const promises = [
                "üíï To love you unconditionally every single day",
                "üåü To support your dreams and be your biggest cheerleader",
                "üíë To be your partner in all of life's adventures",
                "üåà To make you laugh and smile whenever you need it",
                "üíù To cherish every moment we spend together",
                "üéØ To always be honest and communicate openly",
                "üíñ To build a beautiful future together",
                "üå∫ To never stop showing you how much you mean to me"
            ];
            
            const colors = ['#FF69B4', '#FF1493', '#FFB6C1', '#FF85A1', '#FF6B9D', '#FF4D94', '#FF94C2', '#FF7AB7'];
            
            for (let i = 0; i < 8; i++) {
                const segment = document.createElement('div');
                segment.className = 'wheel-segment';
                segment.style.background = `linear-gradient(135deg, ${colors[i]} 0%, ${colors[(i + 1) % colors.length]} 100%)`;
                segment.style.transform = `rotate(${i * 45}deg)`;
                wheel.appendChild(segment);
            }
            
            window.wheelPromises = promises;
        }

        function spinWheel() {
            if (wheelSpun) return;
            
            const wheel = document.getElementById('wheel');
            const result = document.getElementById('wheelResult');
            const center = document.querySelector('.wheel-center');
            
            center.textContent = '...';
            center.style.pointerEvents = 'none';
            
            const spins = 5 + Math.random() * 3;
            const degrees = spins * 360 + Math.random() * 360;
            
            wheel.style.transform = `rotate(${degrees}deg)`;
            
            setTimeout(() => {
                const finalAngle = degrees % 360;
                const segmentIndex = Math.floor((360 - finalAngle + 22.5) / 45) % 8;
                const promise = window.wheelPromises[segmentIndex];
                
                result.textContent = promise;
                result.style.background = 'linear-gradient(135deg, #C8E6C9 0%, #66BB6A 100%)';
                result.style.color = 'white';
                result.style.fontWeight = '600';
                
                wheelSpun = true;
                
                setTimeout(() => {
                    document.getElementById('task5btn').style.display = 'block';
                    createConfetti();
                }, 1000);
            }, 4000);
        }

        function validateTask5() {
            completedTasks.push(5);
            updateProgressDot(5);
            showScreen('task6');
        }

        // Task 6: Memory game
        function initMemoryGame() {
            const symbols = ['üíï', 'üíñ', 'üíó', 'üíù', 'üíì', 'üíû', 'üíò', 'üíå'];
            const cards = [...symbols, ...symbols];
            shuffleArray(cards);
            memoryCards = cards;
            matchedPairs = 0;
            flippedCards = [];
            document.getElementById('pairsCount').textContent = '0';
            renderMemoryGame();
        }

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        function renderMemoryGame() {
            const grid = document.getElementById('memoryGrid');
            grid.innerHTML = '';
            
            memoryCards.forEach((symbol, index) => {
                const card = document.createElement('div');
                card.className = 'memory-card';
                card.dataset.index = index;
                card.innerHTML = `
                    <div class="card-front">‚ù§Ô∏è</div>
                    <div class="card-back">${symbol}</div>
                `;
                card.onclick = () => flipCard(index, card);
                grid.appendChild(card);
            });
        }

        function flipCard(index, cardElement) {
            if (flippedCards.length === 2 || cardElement.classList.contains('flipped') || 
                cardElement.classList.contains('matched')) return;
            
            cardElement.classList.add('flipped');
            flippedCards.push({ index, element: cardElement });
            
            if (flippedCards.length === 2) {
                setTimeout(checkMatch, 1000);
            }
        }

        function checkMatch() {
            const [card1, card2] = flippedCards;
            
            if (memoryCards[card1.index] === memoryCards[card2.index]) {
                card1.element.classList.add('matched');
                card2.element.classList.add('matched');
                matchedPairs++;
                document.getElementById('pairsCount').textContent = matchedPairs;
                
                if (matchedPairs === 8) {
                    document.getElementById('success6').classList.add('show');
                    document.getElementById('task6btn').style.display = 'block';
                    createConfetti();
                }
            } else {
                card1.element.classList.remove('flipped');
                card2.element.classList.remove('flipped');
            }
            
            flippedCards = [];
        }

        function validateTask6() {
            completedTasks.push(6);
            updateProgressDot(6);
            showScreen('task7');
        }

        // Task 7: Word search
        function initWordSearch() {
            const words = ['LOVE', 'HAPPY', 'HEART', 'KISS', 'ROMANCE', 'FOREVER'];
            const gridSize = 10;
            const grid = Array(gridSize).fill().map(() => Array(gridSize).fill(''));
            
            words.forEach(word => {
                let placed = false;
                while (!placed) {
                    const direction = Math.floor(Math.random() * 3);
                    const row = Math.floor(Math.random() * gridSize);
                    const col = Math.floor(Math.random() * gridSize);
                    
                    if (canPlaceWord(grid, word, row, col, direction, gridSize)) {
                        placeWord(grid, word, row, col, direction);
                        placed = true;
                    }
                }
            });
            
            for (let i = 0; i < gridSize; i++) {
                for (let j = 0; j < gridSize; j++) {
                    if (grid[i][j] === '') {
                        grid[i][j] = String.fromCharCode(65 + Math.floor(Math.random() * 26));
                    }
                }
            }
            
            wordSearchState = grid;
            foundWords = [];
            selectedCells = [];
            document.getElementById('wordsCount').textContent = '0';
            renderWordSearch(words);
        }

        function canPlaceWord(grid, word, row, col, direction, gridSize) {
            if (direction === 0) {
                if (col + word.length > gridSize) return false;
                for (let i = 0; i < word.length; i++) {
                    if (grid[row][col + i] !== '' && grid[row][col + i] !== word[i]) return false;
                }
            } else if (direction === 1) {
                if (row + word.length > gridSize) return false;
                for (let i = 0; i < word.length; i++) {
                    if (grid[row + i][col] !== '' && grid[row + i][col] !== word[i]) return false;
                }
            } else {
                if (row + word.length > gridSize || col + word.length > gridSize) return false;
                for (let i = 0; i < word.length; i++) {
                    if (grid[row + i][col + i] !== '' && grid[row + i][col + i] !== word[i]) return false;
                }
            }
            return true;
        }

        function placeWord(grid, word, row, col, direction) {
            for (let i = 0; i < word.length; i++) {
                if (direction === 0) {
                    grid[row][col + i] = word[i];
                } else if (direction === 1) {
                    grid[row + i][col] = word[i];
                } else {
                    grid[row + i][col + i] = word[i];
                }
            }
        }

        function renderWordSearch(words) {
            const grid = document.getElementById('wordSearchGrid');
            const wordsList = document.getElementById('wordsList');
            grid.innerHTML = '';
            wordsList.innerHTML = '';
            
            wordSearchState.forEach((row, i) => {
                row.forEach((letter, j) => {
                    const cell = document.createElement('div');
                    cell.className = 'word-cell';
                    cell.textContent = letter;
                    cell.dataset.row = i;
                    cell.dataset.col = j;
                    cell.addEventListener('click', function() {
                        handleCellClick(this);
                    });
                    grid.appendChild(cell);
                });
            });
            
            words.forEach(word => {
                const wordItem = document.createElement('div');
                wordItem.className = 'word-item';
                wordItem.textContent = word;
                wordItem.dataset.word = word;
                wordsList.appendChild(wordItem);
            });
        }

        function handleCellClick(cell) {
            const words = ['LOVE', 'HAPPY', 'HEART', 'KISS', 'ROMANCE', 'FOREVER'];
            
            if (cell.classList.contains('selected')) {
                cell.classList.remove('selected');
                const index = selectedCells.findIndex(c => c === cell);
                if (index > -1) selectedCells.splice(index, 1);
            } else {
                cell.classList.add('selected');
                selectedCells.push(cell);
            }
            
            checkForWord(words);
        }

        function checkForWord(words) {
            if (selectedCells.length < 3) return;
            
            const selectedText = selectedCells.map(cell => cell.textContent).join('');
            const reversedText = selectedText.split('').reverse().join('');
            
            words.forEach(word => {
                if ((selectedText === word || reversedText === word) && !foundWords.includes(word)) {
                    foundWords.push(word);
                    
                    selectedCells.forEach(cell => {
                        cell.classList.remove('selected');
                        cell.classList.add('found');
                    });
                    
                    const wordItem = document.querySelector(`.word-item[data-word="${word}"]`);
                    if (wordItem) wordItem.classList.add('found');
                    
                    selectedCells = [];
                    document.getElementById('wordsCount').textContent = foundWords.length;
                    
                    if (foundWords.length === 6) {
                        setTimeout(() => {
                            document.getElementById('success7').classList.add('show');
                            document.getElementById('task7btn').style.display = 'block';
                            createConfetti();
                        }, 500);
                    }
                }
            });
        }

        function validateTask7() {
            completedTasks.push(7);
            updateProgressDot(7);
            showScreen('task8');
        }

        // Task 8: Favorite Things
        function toggleFavorite(element) {
            if (element.classList.contains('selected')) {
                element.classList.remove('selected');
                favoritesSelected--;
            } else {
                element.classList.add('selected');
                favoritesSelected++;
            }
            document.getElementById('selectedCount').textContent = favoritesSelected;
        }

        function validateTask8() {
            if (favoritesSelected < 3) {
                showError(8);
                return;
            }
            document.getElementById('success8').classList.add('show');
            createConfetti();
            completedTasks.push(8);
            updateProgressDot(8);
            setTimeout(() => showScreen('task9'), 1000);
        }

        // Task 9: Love letter
        function validateTask9() {
            const letter = document.getElementById('loveLetter').value.trim();
            if (letter.length < 10) {
                showError(9);
                return;
            }
            createConfetti();
            completedTasks.push(9);
            updateProgressDot(9);
            setTimeout(() => showScreen('task10'), 500);
        }

        // Task 10: Single choice selection
        function selectSingleChoice(element) {
            document.querySelectorAll('#task10 .choice-btn').forEach(btn => {
                btn.classList.remove('selected');
            });
            element.classList.add('selected');
        }

        function validateTask10() {
            const selected = document.querySelector('#task10 .choice-btn.selected');
            if (!selected) {
                showError(10);
                return;
            }
            createConfetti();
            completedTasks.push(10);
            updateProgressDot(10);
            setTimeout(() => showScreen('task11'), 500);
        }

        // Task 11: Canvas drawing
        function initCanvas() {
            canvas = document.getElementById('drawCanvas');
            ctx = canvas.getContext('2d');
            
            canvas.width = Math.min(600, window.innerWidth - 80);
            canvas.height = 450;
            
            ctx.strokeStyle = '#FF1493';
            ctx.lineWidth = 4;
            ctx.lineCap = 'round';
            ctx.lineJoin = 'round';
            
            hasDrawn = false;
            
            canvas.addEventListener('mousedown', startDrawing);
            canvas.addEventListener('mousemove', draw);
            canvas.addEventListener('mouseup', stopDrawing);
            canvas.addEventListener('mouseout', stopDrawing);
            
            canvas.addEventListener('touchstart', handleTouchStart);
            canvas.addEventListener('touchmove', handleTouchMove);
            canvas.addEventListener('touchend', stopDrawing);
        }

        function startDrawing(e) {
            isDrawing = true;
            const rect = canvas.getBoundingClientRect();
            ctx.beginPath();
            ctx.moveTo(e.clientX - rect.left, e.clientY - rect.top);
        }

        function draw(e) {
            if (!isDrawing) return;
            hasDrawn = true;
            const rect = canvas.getBoundingClientRect();
            ctx.lineTo(e.clientX - rect.left, e.clientY - rect.top);
            ctx.stroke();
        }

        function stopDrawing() {
            if (isDrawing && hasDrawn) {
                document.getElementById('success11').classList.add('show');
                document.getElementById('task11btn').style.display = 'block';
            }
            isDrawing = false;
        }

        function handleTouchStart(e) {
            e.preventDefault();
            const touch = e.touches[0];
            const rect = canvas.getBoundingClientRect();
            isDrawing = true;
            ctx.beginPath();
            ctx.moveTo(touch.clientX - rect.left, touch.clientY - rect.top);
        }

        function handleTouchMove(e) {
            e.preventDefault();
            if (!isDrawing) return;
            hasDrawn = true;
            const touch = e.touches[0];
            const rect = canvas.getBoundingClientRect();
            ctx.lineTo(touch.clientX - rect.left, touch.clientY - rect.top);
            ctx.stroke();
        }

        function clearCanvas() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            hasDrawn = false;
            document.getElementById('success11').classList.remove('show');
            document.getElementById('task11btn').style.display = 'none';
        }

        function validateTask11() {
            if (!hasDrawn) return;
            createConfetti();
            completedTasks.push(11);
            updateProgressDot(11);
            setTimeout(() => showScreen('task12'), 500);
        }

        // Task 12: Reasons I Love You
        function validateTask12() {
            createConfetti();
            completedTasks.push(12);
            updateProgressDot(12);
            setTimeout(() => showScreen('final'), 500);
            setTimeout(() => celebrateFinal(), 1000);
        }

        // Final celebration
        function celebrateFinal() {
            createFireworks();
            createConfetti();
            setInterval(createFireworks, 4000);
            setInterval(createConfetti, 3000);
        }

        // Helper functions
        function showError(taskNum) {
            const error = document.getElementById('error' + taskNum);
            error.classList.add('show');
            setTimeout(() => error.classList.remove('show'), 3000);
        }

        function showHint(taskNum) {
            const hint = document.getElementById('hint' + taskNum);
            hint.classList.toggle('show');
        }

        function createConfetti() {
            const colors = ['#FF69B4', '#FF1493', '#FFB6C1', '#FF85A1', '#FF6B9D', '#FFD700', '#FFA500', '#90EE90'];
            for (let i = 0; i < 60; i++) {
                setTimeout(() => {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    confetti.style.left = Math.random() * 100 + '%';
                    confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                    confetti.style.animationDuration = (Math.random() * 2 + 2) + 's';
                    document.body.appendChild(confetti);
                    setTimeout(() => confetti.remove(), 4000);
                }, i * 30);
            }
        }

        function createFireworks() {
            const colors = ['#FF69B4', '#FF1493', '#FFB6C1', '#FF85A1', '#FFD700', '#FFA500'];
            const fireworksContainer = document.createElement('div');
            fireworksContainer.className = 'fireworks';
            document.body.appendChild(fireworksContainer);
            
            for (let i = 0; i < 6; i++) {
                setTimeout(() => {
                    const x = Math.random() * window.innerWidth;
                    const y = Math.random() * (window.innerHeight * 0.6);
                    
                    for (let j = 0; j < 40; j++) {
                        const firework = document.createElement('div');
                        firework.className = 'firework';
                        firework.style.left = x + 'px';
                        firework.style.top = y + 'px';
                        firework.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                        
                        const angle = (j / 40) * Math.PI * 2;
                        const velocity = 60 + Math.random() * 120;
                        firework.style.setProperty('--tx', Math.cos(angle) * velocity + 'px');
                        firework.style.setProperty('--ty', Math.sin(angle) * velocity + 'px');
                        
                        fireworksContainer.appendChild(firework);
                        setTimeout(() => firework.remove(), 1200);
                    }
                }, i * 250);
            }
            
            setTimeout(() => fireworksContainer.remove(), 2500);
        }

        // Download functions
        function downloadLetter() {
            const letter = document.getElementById('loveLetter').value || "Thank you for this beautiful journey!";
            const blob = new Blob([letter], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'Our_Love_Letter_Valentine2025.txt';
            a.click();
            URL.revokeObjectURL(url);
        }

        function downloadCanvas() {
            if (!canvas) return;
            const url = canvas.toDataURL('image/png');
            const a = document.createElement('a');
            a.href = url;
            a.download = 'Our_Love_Drawing_Valentine2025.png';
            a.click();
        }
    </script>
</body>
</html>
